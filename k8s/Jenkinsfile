
pipeline {
   // properties([[$class: 'BuildDiscarderProperty', strategy: [$class: 'LogRotator', artifactDaysToKeepStr: '', artifactNumToKeepStr: '', daysToKeepStr: '10', numToKeepStr: '10']]]);
    agent none
        parameters {
        string(name: 'Env', defaultValue: 'dev', description: 'Current environment')
        string(name: 'Environment', defaultValue: 'Development', description: 'Running environment')
        string(name: 'Eks', defaultValue: 'eks', description: 'eks database')
        string(name: 'cicdPath', defaultValue: 'cicd', description: 'CICD directory path')
        
                }
    stages {
            stage('Pull source code and login to ECR') {
            agent {
                label 'master'
            }



             steps {
                   
                   cleanWs()
                   sh 'ls -la'
                   
            }

            steps {
                   sh 'ls -la'
                  
                   sh "echo  ${params.Env}-${env.BUILD_NUMBER}"   
            }
            post {
                always {
                    sh 'echo "Pull source code  complete"'
                }
            }
  }      }
}
